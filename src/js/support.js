import '../style/support.css';

// import jquery
import $ from 'jquery';

// import gsap
import gsap from 'gsap';
import ScrollTrigger from 'gsap/ScrollTrigger';

// import json data
import faq_collections from '../files/jsons/question.json';

// ***** variable *****
let marker = false;
let tmpAnim = null;
let faqDatas = {
  originHeight: 0,
  toggle: [],
  showMaxHeight: [],
  clickAnim: [],
};

let menu = (function () {
  var menuOpen = false;

  return {
    toggleMenu: function () {
      if (menuOpen) {
        menuOpen = false;
        $('#menu').removeClass('show');
        $('#menu-window').fadeOut(100);
      } else {
        menuOpen = true;
        $('#menu').addClass('show');
        $('#menu-window').fadeIn(100);
      }
    },
  };
})();

function onLoadingData() {
  console.log('*** onLoadingData ***');

  // setting template append result to DOM
  var template_html =
    "<div class='move-block'><div class='list'><div name='list-block'><div class='question'><div><div class='tch-b list-symbol'>Q</div><div class='tch-b list-text'>{{question}}</div></div><div class='que-btn'></div></div><div class='answer'><div class='tch-b list-symbol'>A</div><div class='tch-r list-text'>{{answer}}</div></div></div></div></div>";

  for (let i = 0; i < faq_collections.common.length; i++) {
    var current_list = template_html
      .replace('{{question}}', faq_collections.common[i].question)
      .replace('{{answer}}', faq_collections.common[i].answer);
    $('#common .block').append(current_list);
  }

  for (let i = 0; i < faq_collections.service.length; i++) {
    var current_list = template_html
      .replace('{{question}}', faq_collections.service[i].question)
      .replace('{{answer}}', faq_collections.service[i].answer);
    $('#service .block').append(current_list);
  }

  for (let i = 0; i < faq_collections.shopinfo.length; i++) {
    var current_list = template_html
      .replace('{{question}}', faq_collections.shopinfo[i].question)
      .replace('{{answer}}', faq_collections.shopinfo[i].answer);
    $('#shopinfo .block').append(current_list);
  }

  // setting originHeight
  faqDatas['originHeight'] = $('.list')[0].clientHeight;

  console.warn('window.innerWidth: ', window.innerWidth);

  let faqTextCnt = 3;
  console.error('faqTextCnt: ', faqTextCnt);
  let faqHtmlTemplate =
    "<svg width='1920' height='61' viewBox='0 0 1920 61' fill='none'><path opacity='0.8' fill-rule='evenodd' clip-rule='evenodd' d='M0 55.407V0.825423H35.7111V12.3415H12.8831V24.1885H30.4894V35.4174H12.8831V55.407H0ZM11.931 34.3966H29.5373V25.2093H11.931V11.3207H34.759V1.84624H0.952097V54.3862H11.931V34.3966ZM87.4742 55.407H73.753L70.6066 45.3943H52.0896L48.9098 55.407H36.5563L55.1945 0.825423H69.1141L87.4742 55.407ZM51.408 44.3735H71.2905L74.4369 54.3862H86.1187L68.4454 1.84624H55.8598L37.9188 54.3862H48.2282L51.408 44.3735ZM61.4162 12.9715L54.0523 36.0116H68.7131L61.4162 12.9715ZM61.4121 16.1334L55.3851 34.9908H67.3844L61.4121 16.1334ZM131.788 59.59L126.064 52.9148C122.94 54.446 119.481 55.2117 115.688 55.2117C108.949 55.2117 103.404 52.843 99.0523 48.1058C94.4108 43.0576 92.0901 36.4303 92.0901 28.2239C92.0901 20.0414 94.4778 13.3782 99.2532 8.2343C103.716 3.42531 109.272 1.02081 115.922 1.02081C122.639 1.02081 128.207 3.38942 132.625 8.12663C137.311 13.1509 139.654 19.7543 139.654 27.9368C139.654 31.8845 139.063 35.5809 137.88 39.0262C136.697 42.4475 135.013 45.3664 132.826 47.7828L138.114 53.8838L131.788 59.59ZM134.126 47.7836L139.493 53.9745L131.704 61L125.824 54.1429C122.734 55.5403 119.351 56.2325 115.688 56.2325C108.718 56.2325 102.921 53.7721 98.374 48.8221C93.5293 43.5527 91.138 36.6526 91.138 28.2239C91.138 19.8091 93.6021 12.8745 98.5782 7.51427C103.23 2.50209 109.034 0 115.922 0C122.871 0 128.687 2.46085 133.298 7.40481C138.19 12.6499 140.606 19.5281 140.606 27.9368C140.606 31.9957 139.998 35.8124 138.774 39.3788L138.773 39.3809C137.661 42.5982 136.113 45.4033 134.126 47.7836ZM121.244 34.3966L125.83 39.708C125.992 39.3928 126.145 39.0698 126.291 38.7389C127.568 35.8295 128.207 32.3125 128.207 28.188C128.207 23.4986 127.392 19.6347 125.763 16.5962C123.599 12.5289 120.296 10.4952 115.855 10.4952C111.392 10.4952 108.079 12.5289 105.914 16.5962C104.33 19.6108 103.538 23.4388 103.538 28.0803C103.538 34.6598 105.066 39.4927 108.123 42.5791C110.199 44.6845 112.809 45.7372 115.956 45.7372C116.749 45.7372 117.553 45.6559 118.367 45.4933C118.722 45.4225 119.078 45.3364 119.437 45.2348L115.152 40.2105L121.244 34.3966ZM117.6 44.593L113.799 40.1358L121.309 32.9685L125.59 37.9268C126.688 35.2566 127.254 32.021 127.254 28.188C127.254 23.6189 126.46 19.945 124.938 17.1049L124.936 17.1021C122.945 13.3597 119.961 11.5161 115.855 11.5161C111.726 11.5161 108.733 13.361 106.742 17.1C105.262 19.9178 104.49 23.5581 104.49 28.0803C104.49 34.5093 105.984 39.0168 108.776 41.8359L108.778 41.8376C110.658 43.7448 113.026 44.7164 115.956 44.7164C116.496 44.7164 117.044 44.6755 117.6 44.593ZM186.15 53.8097L186.144 53.8161C184.714 55.3495 182.953 56.1248 180.919 56.1248C178.865 56.1248 177.092 55.3522 175.66 53.8161C174.229 52.2827 173.506 50.3952 173.506 48.2135C173.506 46.0117 174.227 44.1111 175.66 42.575L175.666 42.5686C177.118 41.0384 178.899 40.2663 180.952 40.2663C182.974 40.2663 184.724 41.0607 186.15 42.6173C187.572 44.1695 188.297 46.0524 188.297 48.2135C188.297 50.3746 187.572 52.2575 186.15 53.8097ZM247.386 55.407V0.825423H283.097V12.3415H260.269V24.1885H277.876V35.4174H260.269V55.407H247.386ZM259.317 34.3966H276.923V25.2093H259.317V11.3207H282.145V1.84624H248.338V54.3862H259.317V34.3966ZM334.86 55.407H321.139L317.993 45.3943H299.476L296.296 55.407H283.942L302.581 0.825423H316.5L334.86 55.407ZM298.794 44.3735H318.677L321.823 54.3862H333.505L315.831 1.84624H303.246L285.305 54.3862H295.614L298.794 44.3735ZM308.802 12.9715L301.438 36.0116H316.099L308.802 12.9715ZM308.798 16.1333L302.771 34.9908H314.77L308.798 16.1333ZM379.174 59.59L373.45 52.9148C370.326 54.446 366.868 55.2117 363.074 55.2117C356.335 55.2117 350.79 52.843 346.438 48.1058C341.797 43.0576 339.476 36.4303 339.476 28.2239C339.476 20.0414 341.864 13.3782 346.639 8.2343C351.102 3.42531 356.659 1.02081 363.308 1.02081C370.025 1.02081 375.593 3.38942 380.011 8.12663C384.697 13.1509 387.04 19.7543 387.04 27.9368C387.04 31.8845 386.449 35.5809 385.266 39.0262C384.083 42.4475 382.399 45.3664 380.212 47.7828L385.5 53.8838L379.174 59.59ZM381.512 47.7836L386.879 53.9745L379.09 61L373.21 54.1429C370.12 55.5403 366.737 56.2325 363.074 56.2325C356.104 56.2325 350.307 53.7721 345.76 48.8221C340.915 43.5527 338.524 36.6526 338.524 28.2239C338.524 19.809 340.988 12.8744 345.964 7.51416C350.616 2.50209 356.42 0 363.308 0C370.257 0 376.073 2.46085 380.684 7.40481C385.576 12.6499 387.992 19.5281 387.992 27.9368C387.992 31.9957 387.384 35.8124 386.16 39.3788L386.159 39.3809C385.047 42.5982 383.499 45.4033 381.512 47.7836ZM368.63 34.3966L373.216 39.708C373.378 39.3928 373.531 39.0698 373.677 38.7389C374.954 35.8295 375.593 32.3125 375.593 28.188C375.593 23.4986 374.778 19.6347 373.149 16.5962C370.985 12.5289 367.682 10.4952 363.241 10.4952C358.778 10.4952 355.465 12.5289 353.3 16.5962C351.716 19.6108 350.924 23.4388 350.924 28.0803C350.924 34.6598 352.452 39.4927 355.509 42.5791C357.585 44.6845 360.195 45.7372 363.342 45.7372C364.135 45.7372 364.939 45.6559 365.753 45.4933C366.108 45.4225 366.464 45.3364 366.823 45.2348L362.539 40.2105L368.63 34.3966ZM364.986 44.593L361.185 40.1358L368.695 32.9685L372.976 37.9268C374.074 35.2566 374.641 32.021 374.641 28.188C374.641 23.6189 373.846 19.945 372.324 17.1049L372.322 17.1021C370.331 13.3597 367.347 11.5161 363.241 11.5161C359.112 11.5161 356.119 13.3607 354.129 17.099C352.648 19.917 351.876 23.5576 351.876 28.0803C351.876 34.5093 353.37 39.0168 356.162 41.8359L356.164 41.8376C358.044 43.7448 360.412 44.7164 363.342 44.7164C363.882 44.7164 364.43 44.6755 364.986 44.593ZM433.536 53.8097L433.53 53.8161C432.1 55.3495 430.339 56.1248 428.305 56.1248C426.251 56.1248 424.478 55.3522 423.046 53.8161C421.616 52.2827 420.892 50.3952 420.892 48.2135C420.892 46.0117 421.613 44.1111 423.046 42.575L423.052 42.5686C424.504 41.0384 426.285 40.2663 428.338 40.2663C430.36 40.2663 432.11 41.0607 433.536 42.6173C434.958 44.1695 435.683 46.0524 435.683 48.2135C435.683 50.3746 434.958 52.2575 433.536 53.8097ZM494.772 55.407V0.825423H530.483V12.3415H507.655V24.1885H525.262V35.4174H507.655V55.407H494.772ZM506.703 34.3966H524.31V25.2093H506.703V11.3207H529.531V1.84624H495.724V54.3862H506.703V34.3966ZM582.246 55.407H568.525L565.379 45.3943H546.862L543.682 55.407H531.328L549.967 0.825423H563.886L582.246 55.407ZM546.18 44.3735H566.063L569.209 54.3862H580.891L563.218 1.84624H550.632L532.691 54.3862H543L546.18 44.3735ZM556.188 12.9715L548.825 36.0116H563.485L556.188 12.9715ZM556.184 16.1333L550.157 34.9908H562.157L556.184 16.1333ZM626.56 59.59L620.837 52.9148C617.712 54.446 614.254 55.2117 610.46 55.2117C603.721 55.2117 598.176 52.843 593.824 48.1058C589.183 43.0576 586.862 36.4303 586.862 28.2239C586.862 20.0414 589.25 13.3782 594.025 8.2343C598.488 3.42531 604.045 1.02081 610.694 1.02081C617.411 1.02081 622.979 3.38942 627.397 8.12663C632.083 13.1509 634.426 19.7543 634.426 27.9368C634.426 31.8845 633.835 35.5809 632.652 39.0262C631.47 42.4475 629.785 45.3664 627.598 47.7828L632.886 53.8838L626.56 59.59ZM628.898 47.7837C630.886 45.4033 632.433 42.5982 633.545 39.3809L633.546 39.3788C634.77 35.8124 635.378 31.9957 635.378 27.9368C635.378 19.5281 632.962 12.6499 628.07 7.40481C623.459 2.46085 617.643 0 610.694 0C603.806 0 598.002 2.50209 593.351 7.51416C588.374 12.8744 585.91 19.809 585.91 28.2239C585.91 36.6528 588.302 43.553 593.146 48.8221C597.693 53.7721 603.49 56.2325 610.46 56.2325C614.123 56.2325 617.506 55.5403 620.596 54.1429L626.476 61L634.265 53.9745L628.898 47.7837ZM608.571 40.1358L616.081 32.9685L620.362 37.9268C621.46 35.2566 622.027 32.021 622.027 28.188C622.027 23.6189 621.232 19.945 619.71 17.1049L619.708 17.1021C617.717 13.3597 614.733 11.5161 610.628 11.5161C606.499 11.5161 603.506 13.3601 601.516 17.0973C600.035 19.9155 599.262 23.5567 599.262 28.0803C599.262 34.5093 600.756 39.0168 603.548 41.8359L603.55 41.8376C605.43 43.7448 607.798 44.7164 610.728 44.7164C611.268 44.7164 611.816 44.6755 612.372 44.593L608.571 40.1358ZM614.209 45.2348C613.85 45.3364 613.494 45.4225 613.139 45.4933C612.325 45.6559 611.521 45.7372 610.728 45.7372C607.582 45.7372 604.971 44.6845 602.895 42.5791C599.838 39.4927 598.31 34.6598 598.31 28.0803C598.31 23.4388 599.102 19.6108 600.686 16.5962C602.851 12.5289 606.165 10.4952 610.628 10.4952C615.068 10.4952 618.371 12.5289 620.535 16.5962C622.164 19.6347 622.979 23.4986 622.979 28.188C622.979 32.3125 622.34 35.8295 621.063 38.7389C620.918 39.0698 620.764 39.3929 620.602 39.708L616.017 34.3966L609.925 40.2105L614.209 45.2348ZM680.922 53.8097L680.916 53.8161C679.486 55.3495 677.726 56.1248 675.691 56.1248C673.637 56.1248 671.864 55.3522 670.432 53.8161C669.002 52.2827 668.278 50.3952 668.278 48.2135C668.278 46.0117 668.999 44.1111 670.432 42.575L670.438 42.5686C671.89 41.0384 673.671 40.2663 675.724 40.2663C677.746 40.2663 679.496 41.0607 680.922 42.6173C682.344 44.1695 683.069 46.0524 683.069 48.2135C683.069 50.3746 682.344 52.2575 680.922 53.8097ZM742.158 55.407V0.825423H777.869V12.3415H755.041V24.1885H772.648V35.4174H755.041V55.407H742.158ZM754.089 34.3966H771.696V25.2093H754.089V11.3207H776.917V1.84624H743.11V54.3862H754.089V34.3966ZM829.632 55.407H815.911L812.765 45.3943H794.248L791.068 55.407H778.715L797.353 0.825423H811.272L829.632 55.407ZM793.566 44.3735H813.449L816.595 54.3862H828.277L810.604 1.84624H798.018L780.077 54.3862H790.386L793.566 44.3735ZM803.574 12.9715L796.211 36.0116H810.871L803.574 12.9715ZM803.57 16.1333L797.543 34.9908H809.543L803.57 16.1333ZM873.946 59.59L868.223 52.9148C865.099 54.446 861.64 55.2117 857.846 55.2117C851.107 55.2117 845.562 52.843 841.211 48.1058C836.569 43.0576 834.248 36.4303 834.248 28.2239C834.248 20.0414 836.636 13.3782 841.411 8.2343C845.874 3.42531 851.431 1.02081 858.081 1.02081C864.797 1.02081 870.365 3.38942 874.783 8.12663C879.469 13.1509 881.812 19.7543 881.812 27.9368C881.812 31.8845 881.221 35.5809 880.038 39.0262C878.856 42.4475 877.171 45.3664 874.984 47.7828L880.273 53.8838L873.946 59.59ZM876.285 47.7837C878.272 45.4033 879.819 42.5982 880.931 39.3809L880.932 39.3788C882.156 35.8124 882.764 31.9957 882.764 27.9368C882.764 19.5281 880.348 12.6499 875.456 7.40481C870.845 2.46085 865.029 0 858.081 0C851.192 0 845.388 2.50209 840.737 7.51416C835.76 12.8744 833.296 19.809 833.296 28.2239C833.296 36.6528 835.688 43.553 840.532 48.8221C845.079 53.7721 850.877 56.2325 857.846 56.2325C861.509 56.2325 864.892 55.5403 867.982 54.1429L873.862 61L881.651 53.9745L876.285 47.7837ZM855.957 40.1358L863.467 32.9685L867.748 37.9268C868.846 35.2566 869.413 32.021 869.413 28.188C869.413 23.6189 868.618 19.945 867.096 17.1049L867.094 17.1021C865.103 13.3597 862.119 11.5161 858.014 11.5161C853.885 11.5161 850.892 13.3601 848.902 17.0973C847.421 19.9155 846.648 23.5567 846.648 28.0803C846.648 34.5093 848.142 39.0168 850.934 41.8359L850.936 41.8376C852.816 43.7448 855.184 44.7164 858.114 44.7164C858.654 44.7164 859.202 44.6755 859.758 44.593L855.957 40.1358ZM861.595 45.2348C861.237 45.3364 860.88 45.4225 860.525 45.4933C859.711 45.6559 858.907 45.7372 858.114 45.7372C854.968 45.7372 852.357 44.6845 850.282 42.5791C847.224 39.4927 845.696 34.6598 845.696 28.0803C845.696 23.4388 846.488 19.6108 848.072 16.5962C850.237 12.5289 853.551 10.4952 858.014 10.4952C862.454 10.4952 865.757 12.5289 867.921 16.5962C869.55 19.6347 870.365 23.4986 870.365 28.188C870.365 32.3125 869.726 35.8295 868.449 38.7389C868.304 39.0698 868.15 39.3929 867.988 39.708L863.403 34.3966L857.311 40.2105L861.595 45.2348ZM928.308 53.8097L928.302 53.8161C926.872 55.3495 925.112 56.1248 923.077 56.1248C921.023 56.1248 919.251 55.3522 917.818 53.8161C916.388 52.2827 915.665 50.3952 915.665 48.2135C915.665 46.0117 916.385 44.1111 917.818 42.575L917.824 42.5686C919.277 41.0384 921.057 40.2663 923.11 40.2663C925.132 40.2663 926.882 41.0607 928.308 42.6173C929.731 44.1695 930.456 46.0524 930.456 48.2135C930.456 50.3746 929.731 52.2575 928.308 53.8097ZM989.544 55.407V0.825423H1025.26V12.3415H1002.43V24.1885H1020.03V35.4174H1002.43V55.407H989.544ZM1001.48 34.3966H1019.08V25.2093H1001.48V11.3207H1024.3V1.84624H990.496V54.3862H1001.48V34.3966ZM1077.02 55.407H1063.3L1060.15 45.3943H1041.63L1038.45 55.407H1026.1L1044.74 0.825423H1058.66L1077.02 55.407ZM1040.95 44.3735H1060.83L1063.98 54.3862H1075.66L1057.99 1.84624H1045.4L1027.46 54.3862H1037.77L1040.95 44.3735ZM1050.96 12.9715L1043.6 36.0116H1058.26L1050.96 12.9715ZM1050.96 16.1334L1044.93 34.9908H1056.93L1050.96 16.1334ZM1121.33 59.59L1115.61 52.9148C1112.48 54.446 1109.03 55.2117 1105.23 55.2117C1098.49 55.2117 1092.95 52.843 1088.6 48.1058C1083.96 43.0576 1081.63 36.4303 1081.63 28.2239C1081.63 20.0414 1084.02 13.3782 1088.8 8.2343C1093.26 3.42531 1098.82 1.02081 1105.47 1.02081C1112.18 1.02081 1117.75 3.38942 1122.17 8.12663C1126.86 13.1509 1129.2 19.7543 1129.2 27.9368C1129.2 31.8845 1128.61 35.5809 1127.42 39.0262C1126.24 42.4475 1124.56 45.3664 1122.37 47.7828L1127.66 53.8838L1121.33 59.59ZM1123.67 47.7836C1125.66 45.4032 1127.2 42.5982 1128.32 39.3809L1128.32 39.3788C1129.54 35.8124 1130.15 31.9957 1130.15 27.9368C1130.15 19.5281 1127.73 12.6499 1122.84 7.40481C1118.23 2.46085 1112.42 0 1105.47 0C1098.58 0 1092.77 2.50209 1088.12 7.51416C1083.15 12.8744 1080.68 19.809 1080.68 28.2239C1080.68 36.6528 1083.07 43.553 1087.92 48.8221C1092.47 53.7721 1098.26 56.2325 1105.23 56.2325C1108.9 56.2325 1112.28 55.5403 1115.37 54.1429L1121.25 61L1129.04 53.9745L1123.67 47.7836ZM1103.34 40.1358L1110.85 32.9685L1115.13 37.9268C1116.23 35.2565 1116.8 32.021 1116.8 28.188C1116.8 23.6189 1116 19.945 1114.48 17.1049L1114.48 17.1021C1112.49 13.3597 1109.51 11.5161 1105.4 11.5161C1101.27 11.5161 1098.28 13.3601 1096.29 17.0973C1094.81 19.9155 1094.03 23.5567 1094.03 28.0803C1094.03 34.5093 1095.53 39.0168 1098.32 41.8359L1098.32 41.8376C1100.2 43.7448 1102.57 44.7164 1105.5 44.7164C1106.04 44.7164 1106.59 44.6755 1107.14 44.593L1103.34 40.1358ZM1108.98 45.2348C1108.62 45.3364 1108.27 45.4225 1107.91 45.4933C1107.1 45.6559 1106.29 45.7372 1105.5 45.7372C1102.35 45.7372 1099.74 44.6845 1097.67 42.5791C1094.61 39.4927 1093.08 34.6598 1093.08 28.0803C1093.08 23.4388 1093.87 19.6108 1095.46 16.5962C1097.62 12.5289 1100.94 10.4952 1105.4 10.4952C1109.84 10.4952 1113.14 12.5289 1115.31 16.5962C1116.94 19.6347 1117.75 23.4986 1117.75 28.188C1117.75 32.3125 1117.11 35.8295 1115.83 38.7388C1115.69 39.0698 1115.54 39.3928 1115.37 39.708L1110.79 34.3966L1104.7 40.2105L1108.98 45.2348ZM1175.69 53.8097L1175.69 53.8161C1174.26 55.3495 1172.5 56.1248 1170.46 56.1248C1168.41 56.1248 1166.64 55.3522 1165.2 53.8161C1163.77 52.2827 1163.05 50.3952 1163.05 48.2135C1163.05 46.0117 1163.77 44.1111 1165.2 42.575L1165.21 42.5686C1166.66 41.0384 1168.44 40.2663 1170.5 40.2663C1172.52 40.2663 1174.27 41.0607 1175.69 42.6173C1177.12 44.1695 1177.84 46.0524 1177.84 48.2135C1177.84 50.3746 1177.12 52.2575 1175.69 53.8097ZM1236.93 55.407V0.825423H1272.64V12.3415H1249.81V24.1885H1267.42V35.4174H1249.81V55.407H1236.93ZM1248.86 34.3966H1266.47V25.2093H1248.86V11.3207H1271.69V1.84624H1237.88V54.3862H1248.86V34.3966ZM1324.4 55.407H1310.68L1307.54 45.3943H1289.02L1285.84 55.407H1273.49L1292.12 0.825423H1306.04L1324.4 55.407ZM1288.34 44.3735H1308.22L1311.37 54.3862H1323.05L1305.38 1.84624H1292.79L1274.85 54.3862H1285.16L1288.34 44.3735ZM1298.35 12.9715L1290.98 36.0116H1305.64L1298.35 12.9715ZM1298.34 16.1334L1292.32 34.9908H1304.31L1298.34 16.1334ZM1368.72 59.59L1362.99 52.9148C1359.87 54.446 1356.41 55.2117 1352.62 55.2117C1345.88 55.2117 1340.33 52.843 1335.98 48.1058C1331.34 43.0576 1329.02 36.4303 1329.02 28.2239C1329.02 20.0414 1331.41 13.3782 1336.18 8.2343C1340.65 3.42531 1346.2 1.02081 1352.85 1.02081C1359.57 1.02081 1365.14 3.38942 1369.56 8.12663C1374.24 13.1509 1376.58 19.7543 1376.58 27.9368C1376.58 31.8845 1375.99 35.5809 1374.81 39.0262C1373.63 42.4475 1371.94 45.3664 1369.76 47.7828L1375.04 53.8838L1368.72 59.59ZM1371.06 47.7836C1373.04 45.4032 1374.59 42.5982 1375.7 39.3809L1375.7 39.3788C1376.93 35.8124 1377.54 31.9957 1377.54 27.9368C1377.54 19.5281 1375.12 12.6499 1370.23 7.40481C1365.62 2.46085 1359.8 0 1352.85 0C1345.96 0 1340.16 2.50209 1335.51 7.51416C1330.53 12.8744 1328.07 19.809 1328.07 28.2239C1328.07 36.6528 1330.46 43.553 1335.3 48.8221C1339.85 53.7721 1345.65 56.2325 1352.62 56.2325C1356.28 56.2325 1359.66 55.5403 1362.75 54.1429L1368.63 61L1376.42 53.9745L1371.06 47.7836ZM1350.73 40.1358L1358.24 32.9685L1362.52 37.9268C1363.62 35.2565 1364.18 32.021 1364.18 28.188C1364.18 23.6189 1363.39 19.945 1361.87 17.1049L1361.87 17.1021C1359.87 13.3597 1356.89 11.5161 1352.79 11.5161C1348.66 11.5161 1345.66 13.3601 1343.67 17.0973C1342.19 19.9155 1341.42 23.5567 1341.42 28.0803C1341.42 34.5093 1342.91 39.0168 1345.71 41.8359L1345.71 41.8376C1347.59 43.7448 1349.96 44.7164 1352.89 44.7164C1353.43 44.7164 1353.97 44.6755 1354.53 44.593L1350.73 40.1358ZM1356.37 45.2348C1356.01 45.3364 1355.65 45.4225 1355.3 45.4933C1354.48 45.6559 1353.68 45.7372 1352.89 45.7372C1349.74 45.7372 1347.13 44.6845 1345.05 42.5791C1342 39.4927 1340.47 34.6598 1340.47 28.0803C1340.47 23.4388 1341.26 19.6108 1342.84 16.5962C1345.01 12.5289 1348.32 10.4952 1352.79 10.4952C1357.23 10.4952 1360.53 12.5289 1362.69 16.5962C1364.32 19.6347 1365.14 23.4986 1365.14 28.188C1365.14 32.3125 1364.5 35.8295 1363.22 38.7388C1363.08 39.0698 1362.92 39.3928 1362.76 39.708L1358.17 34.3966L1352.08 40.2105L1356.37 45.2348ZM1423.08 53.8097L1423.07 53.8161C1421.64 55.3495 1419.88 56.1248 1417.85 56.1248C1415.8 56.1248 1414.02 55.3522 1412.59 53.8161C1411.16 52.2827 1410.44 50.3952 1410.44 48.2135C1410.44 46.0117 1411.16 44.1111 1412.59 42.575L1412.6 42.5686C1414.05 41.0384 1415.83 40.2663 1417.88 40.2663C1419.9 40.2663 1421.65 41.0607 1423.08 42.6173C1424.5 44.1695 1425.23 46.0524 1425.23 48.2135C1425.23 50.3746 1424.5 52.2575 1423.08 53.8097ZM1484.32 55.407V0.825423H1520.03V12.3415H1497.2V24.1885H1514.81V35.4174H1497.2V55.407H1484.32ZM1496.25 34.3966H1513.85V25.2093H1496.25V11.3207H1519.08V1.84624H1485.27V54.3862H1496.25V34.3966ZM1571.79 55.407H1558.07L1554.92 45.3943H1536.41L1533.23 55.407H1520.87L1539.51 0.825423H1553.43L1571.79 55.407ZM1535.72 44.3735H1555.61L1558.75 54.3862H1570.44L1552.76 1.84624H1540.18L1522.24 54.3862H1532.54L1535.72 44.3735ZM1545.73 12.9715L1538.37 36.0116H1553.03L1545.73 12.9715ZM1545.73 16.1334L1539.7 34.9908H1551.7L1545.73 16.1334ZM1616.1 59.59L1610.38 52.9148C1607.26 54.446 1603.8 55.2117 1600 55.2117C1593.27 55.2117 1587.72 52.843 1583.37 48.1058C1578.73 43.0576 1576.41 36.4303 1576.41 28.2239C1576.41 20.0414 1578.79 13.3782 1583.57 8.2343C1588.03 3.42531 1593.59 1.02081 1600.24 1.02081C1606.96 1.02081 1612.52 3.38942 1616.94 8.12663C1621.63 13.1509 1623.97 19.7543 1623.97 27.9368C1623.97 31.8845 1623.38 35.5809 1622.2 39.0262C1621.01 42.4475 1619.33 45.3664 1617.14 47.7828L1622.43 53.8838L1616.1 59.59ZM1618.44 47.7836C1620.43 45.4032 1621.98 42.5982 1623.09 39.3809L1623.09 39.3788C1624.31 35.8124 1624.92 31.9957 1624.92 27.9368C1624.92 19.5281 1622.51 12.6499 1617.61 7.40481C1613 2.46085 1607.19 0 1600.24 0C1593.35 0 1587.55 2.50209 1582.89 7.51416C1577.92 12.8744 1575.45 19.809 1575.45 28.2239C1575.45 36.6528 1577.85 43.553 1582.69 48.8221C1587.24 53.7721 1593.03 56.2325 1600 56.2325C1603.67 56.2325 1607.05 55.5403 1610.14 54.1429L1616.02 61L1623.81 53.9745L1618.44 47.7836ZM1598.12 40.1358L1605.63 32.9685L1609.91 37.9268C1611 35.2565 1611.57 32.021 1611.57 28.188C1611.57 23.6189 1610.78 19.945 1609.25 17.1049L1609.25 17.1021C1607.26 13.3597 1604.28 11.5161 1600.17 11.5161C1596.04 11.5161 1593.05 13.3601 1591.06 17.0973C1589.58 19.9155 1588.81 23.5567 1588.81 28.0803C1588.81 34.5093 1590.3 39.0168 1593.09 41.8359L1593.09 41.8376C1594.97 43.7448 1597.34 44.7164 1600.27 44.7164C1600.81 44.7164 1601.36 44.6755 1601.92 44.593L1598.12 40.1358ZM1603.75 45.2348C1603.39 45.3364 1603.04 45.4225 1602.68 45.4933C1601.87 45.6559 1601.07 45.7372 1600.27 45.7372C1597.13 45.7372 1594.52 44.6845 1592.44 42.5791C1589.38 39.4927 1587.85 34.6598 1587.85 28.0803C1587.85 23.4388 1588.65 19.6108 1590.23 16.5962C1592.4 12.5289 1595.71 10.4952 1600.17 10.4952C1604.61 10.4952 1607.92 12.5289 1610.08 16.5962C1611.71 19.6347 1612.52 23.4986 1612.52 28.188C1612.52 32.3125 1611.88 35.8295 1610.61 38.7388C1610.46 39.0698 1610.31 39.3928 1610.15 39.708L1605.56 34.3966L1599.47 40.2105L1603.75 45.2348ZM1670.47 53.8097L1670.46 53.8161C1669.03 55.3495 1667.27 56.1248 1665.24 56.1248C1663.18 56.1248 1661.41 55.3522 1659.98 53.8161C1658.55 52.2827 1657.82 50.3952 1657.82 48.2135C1657.82 46.0117 1658.54 44.1111 1659.98 42.575L1659.98 42.5686C1661.43 41.0384 1663.22 40.2663 1665.27 40.2663C1667.29 40.2663 1669.04 41.0607 1670.47 42.6173C1671.89 44.1695 1672.61 46.0524 1672.61 48.2135C1672.61 50.3746 1671.89 52.2575 1670.47 53.8097ZM1731.7 55.407V0.825423H1767.41V12.3415H1744.59V24.1885H1762.19V35.4174H1744.59V55.407H1731.7ZM1743.63 34.3966H1761.24V25.2093H1743.63V11.3207H1766.46V1.84624H1732.65V54.3862H1743.63V34.3966ZM1819.18 55.407H1805.46L1802.31 45.3943H1783.79L1780.61 55.407H1768.26L1786.9 0.825423H1800.82L1819.18 55.407ZM1783.11 44.3735H1802.99L1806.14 54.3862H1817.82L1800.15 1.84624H1787.56L1769.62 54.3862H1779.93L1783.11 44.3735ZM1793.12 12.9715L1785.75 36.0116H1800.42L1793.12 12.9715ZM1793.11 16.1334L1787.09 34.9908H1799.09L1793.11 16.1334ZM1863.49 59.59L1857.77 52.9148C1854.64 54.446 1851.18 55.2117 1847.39 55.2117C1840.65 55.2117 1835.11 52.843 1830.75 48.1058C1826.11 43.0576 1823.79 36.4303 1823.79 28.2239C1823.79 20.0414 1826.18 13.3782 1830.96 8.2343C1835.42 3.42531 1840.98 1.02081 1847.62 1.02081C1854.34 1.02081 1859.91 3.38942 1864.33 8.12663C1869.01 13.1509 1871.36 19.7543 1871.36 27.9368C1871.36 31.8845 1870.77 35.5809 1869.58 39.0262C1868.4 42.4475 1866.72 45.3664 1864.53 47.7828L1869.82 53.8838L1863.49 59.59ZM1865.83 47.7836C1867.82 45.4032 1869.36 42.5982 1870.48 39.3809L1870.48 39.3788C1871.7 35.8124 1872.31 31.9957 1872.31 27.9368C1872.31 19.5281 1869.89 12.6499 1865 7.40481C1860.39 2.46085 1854.57 0 1847.62 0C1840.74 0 1834.93 2.50209 1830.28 7.51416C1825.3 12.8744 1822.84 19.809 1822.84 28.2239C1822.84 36.6528 1825.23 43.553 1830.08 48.8221C1834.62 53.7721 1840.42 56.2325 1847.39 56.2325C1851.05 56.2325 1854.44 55.5403 1857.53 54.1429L1863.41 61L1871.2 53.9745L1865.83 47.7836ZM1845.5 40.1358L1853.01 32.9685L1857.29 37.9268C1858.39 35.2565 1858.96 32.021 1858.96 28.188C1858.96 23.6189 1858.16 19.945 1856.64 17.1049L1856.64 17.1021C1854.65 13.3597 1851.66 11.5161 1847.56 11.5161C1843.43 11.5161 1840.44 13.3601 1838.45 17.0973C1836.97 19.9155 1836.19 23.5567 1836.19 28.0803C1836.19 34.5093 1837.69 39.0168 1840.48 41.8359L1840.48 41.8376C1842.36 43.7448 1844.73 44.7164 1847.66 44.7164C1848.2 44.7164 1848.75 44.6755 1849.3 44.593L1845.5 40.1358ZM1851.14 45.2348C1850.78 45.3364 1850.42 45.4225 1850.07 45.4933C1849.26 45.6559 1848.45 45.7372 1847.66 45.7372C1844.51 45.7372 1841.9 44.6845 1839.83 42.5791C1836.77 39.4927 1835.24 34.6598 1835.24 28.0803C1835.24 23.4388 1836.03 19.6108 1837.62 16.5962C1839.78 12.5289 1843.09 10.4952 1847.56 10.4952C1852 10.4952 1855.3 12.5289 1857.47 16.5962C1859.09 19.6347 1859.91 23.4986 1859.91 28.188C1859.91 32.3125 1859.27 35.8295 1857.99 38.7388C1857.85 39.0698 1857.69 39.3928 1857.53 39.708L1852.95 34.3966L1846.86 40.2105L1851.14 45.2348ZM1917.85 53.8097L1917.85 53.8161C1916.42 55.3495 1914.66 56.1248 1912.62 56.1248C1910.57 56.1248 1908.79 55.3522 1907.36 53.8161C1905.93 52.2827 1905.21 50.3952 1905.21 48.2135C1905.21 46.0117 1905.93 44.1111 1907.36 42.575L1907.37 42.5686C1908.82 41.0384 1910.6 40.2663 1912.65 40.2663C1914.68 40.2663 1916.43 41.0607 1917.85 42.6173C1919.27 44.1695 1920 46.0524 1920 48.2135C1920 50.3746 1919.27 52.2575 1917.85 53.8097ZM185.471 43.3327C184.221 41.969 182.715 41.2871 180.952 41.2871C179.145 41.2871 177.605 41.957 176.333 43.2968C175.083 44.6367 174.458 46.2755 174.458 48.2135C174.458 50.1275 175.083 51.7544 176.333 53.0943C177.582 54.4341 179.111 55.104 180.919 55.104C182.704 55.104 184.221 54.4341 185.471 53.0943C186.72 51.7305 187.345 50.1036 187.345 48.2135C187.345 46.3234 186.72 44.6965 185.471 43.3327ZM432.857 43.3327C431.607 41.969 430.101 41.2871 428.338 41.2871C426.531 41.2871 424.991 41.957 423.719 43.2968C422.469 44.6367 421.845 46.2755 421.845 48.2135C421.845 50.1275 422.469 51.7544 423.719 53.0943C424.969 54.4341 426.497 55.104 428.305 55.104C430.09 55.104 431.607 54.4341 432.857 53.0943C434.106 51.7305 434.731 50.1036 434.731 48.2135C434.731 46.3234 434.106 44.6965 432.857 43.3327ZM680.243 43.3327C678.993 41.969 677.487 41.2871 675.724 41.2871C673.917 41.2871 672.377 41.957 671.105 43.2968C669.855 44.6367 669.231 46.2755 669.231 48.2135C669.231 50.1275 669.855 51.7544 671.105 53.0943C672.355 54.4341 673.883 55.104 675.691 55.104C677.476 55.104 678.993 54.4341 680.243 53.0943C681.493 51.7305 682.117 50.1036 682.117 48.2135C682.117 46.3234 681.493 44.6965 680.243 43.3327ZM927.629 43.3327C926.379 41.969 924.873 41.2871 923.11 41.2871C921.303 41.2871 919.763 41.957 918.491 43.2968C917.241 44.6367 916.617 46.2755 916.617 48.2135C916.617 50.1275 917.241 51.7544 918.491 53.0943C919.741 54.4341 921.269 55.104 923.077 55.104C924.862 55.104 926.379 54.4341 927.629 53.0943C928.879 51.7305 929.503 50.1036 929.503 48.2135C929.503 46.3234 928.879 44.6965 927.629 43.3327ZM1175.02 43.3327C1173.77 41.969 1172.26 41.2871 1170.5 41.2871C1168.69 41.2871 1167.15 41.957 1165.88 43.2968C1164.63 44.6367 1164 46.2755 1164 48.2135C1164 50.1275 1164.63 51.7544 1165.88 53.0943C1167.13 54.4341 1168.66 55.104 1170.46 55.104C1172.25 55.104 1173.77 54.4341 1175.02 53.0943C1176.26 51.7305 1176.89 50.1036 1176.89 48.2135C1176.89 46.3234 1176.26 44.6965 1175.02 43.3327ZM1422.4 43.3327C1421.15 41.969 1419.65 41.2871 1417.88 41.2871C1416.07 41.2871 1414.54 41.957 1413.26 43.2968C1412.01 44.6367 1411.39 46.2755 1411.39 48.2135C1411.39 50.1275 1412.01 51.7544 1413.26 53.0943C1414.51 54.4341 1416.04 55.104 1417.85 55.104C1419.63 55.104 1421.15 54.4341 1422.4 53.0943C1423.65 51.7305 1424.28 50.1036 1424.28 48.2135C1424.28 46.3234 1423.65 44.6965 1422.4 43.3327ZM1669.79 43.3327C1668.54 41.969 1667.03 41.2871 1665.27 41.2871C1663.46 41.2871 1661.92 41.957 1660.65 43.2968C1659.4 44.6367 1658.77 46.2755 1658.77 48.2135C1658.77 50.1275 1659.4 51.7544 1660.65 53.0943C1661.9 54.4341 1663.43 55.104 1665.24 55.104C1667.02 55.104 1668.54 54.4341 1669.79 53.0943C1671.04 51.7305 1671.66 50.1036 1671.66 48.2135C1671.66 46.3234 1671.04 44.6965 1669.79 43.3327ZM1917.17 43.3327C1915.92 41.969 1914.42 41.2871 1912.65 41.2871C1910.85 41.2871 1909.31 41.957 1908.04 43.2968C1906.79 44.6367 1906.16 46.2755 1906.16 48.2135C1906.16 50.1275 1906.79 51.7544 1908.04 53.0943C1909.29 54.4341 1910.81 55.104 1912.62 55.104C1914.41 55.104 1915.92 54.4341 1917.17 53.0943C1918.42 51.7305 1919.05 50.1036 1919.05 48.2135C1919.05 46.3234 1918.42 44.6965 1917.17 43.3327Z' fill='#525F6B'/></svg>";

  for (let i = 0; i < faqTextCnt; i++) {
    $('.slogan .txt-faq').append(faqHtmlTemplate);
  }
}

function onEventBinding() {
  console.log('*** onEventBinding ***');

  let allList = $('.list');
  for (let i = 0; i < allList.length; i++) {
    // setting toggle flag
    faqDatas.toggle.push(false);

    // setting max-height for show
    faqDatas.showMaxHeight.push(allList[i].children[0].clientHeight);

    allList[i].addEventListener('click', (e) => {
      // console.log(e);

      if (faqDatas.toggle[i] === false) {
        e.target.style.transitionDuration = faqDatas.showMaxHeight[i] >= 200 ? '' : '0.35s';
        e.target.style.maxHeight = faqDatas.showMaxHeight[i] + 'px';
        e.target.children[0].children[0].classList.add('show');
        faqDatas.clickAnim[i].play();
      } else {
        e.target.style.maxHeight = faqDatas['originHeight'] + 'px';
        e.target.children[0].children[0].classList.remove('show');
        faqDatas.clickAnim[i].reverse();
      }

      faqDatas.toggle[i] = !faqDatas.toggle[i];
    });
  }

  // menu button
  $('#menu').on('click', function (e) {
    menu.toggleMenu();
  });
}

function onGSAP() {
  console.log('*** onGSAP ***');

  // Regist Plugin
  gsap.registerPlugin(ScrollTrigger);

  // list head animation
  let headAnim = gsap.timeline({
    delay: 1.25,
  });
  headAnim
    .from('#common', { duration: 1, opacity: 0, x: -100 })
    .from('#service', { duration: 1, opacity: 0, x: -100 }, '-=1')
    .from('#shopinfo', { duration: 1, opacity: 0, x: -100 }, '-=1')
    .from('#company', { duration: 1, opacity: 0, x: -100 }, '-=1');

  // list show animation
  let move_blocks = $('.lists-container .move-block');
  for (let i = 0; i < move_blocks.length; i++) {
    gsap
      .timeline({
        scrollTrigger: {
          trigger: move_blocks[i],
          toggleActions: 'restart none none none',
          start: '-=60px bottom',
        },
      })
      .from(move_blocks[i], {
        opacity: 0,
        y: 60,
        duration: 0.75,
        ease: 'power1.out',
      });

    faqDatas.clickAnim.push(
      gsap.timeline({ paused: true }).to(move_blocks[i].children[0].children[0], {
        duration: 0.45,
        opacity: 1,
        ease: 'power1.inOut',
      }),
    );
  }

  // setting list of title trigger animation
  let all_title = $('.lists-container .title');
  for (let i = 0; i < all_title.length; i++) {
    gsap
      .timeline({
        scrollTrigger: {
          trigger: all_title[i],
          toggleActions: 'restart none none none',
          start: '-=100px bottom',
        },
      })
      .from(all_title[i], { opacity: 0, y: 100, duration: 1, ease: 'power1.out' });
  }

  // setting company info trigger animation
  gsap
    .timeline({
      scrollTrigger: {
        trigger: $('#company .info'),
        toggleActions: 'restart none none none',
        start: '-=60px bottom',
      },
    })
    .from($('#company .info'), {
      delay: 0.25,
      opacity: 0,
      y: 60,
      duration: 0.75,
      ease: 'power1.out',
    });

  // list click animation
  tmpAnim = gsap.timeline({ paused: true });
  tmpAnim.to($('div[name="list-block"]')[0], { duration: 0.35, opacity: 1, ease: 'power1.out' });

  // faq horizontal scroll animation
  gsap.to($('.txt-faq'), { x: -1920 - 60, duration: 15, repeat: -1, ease: 'linear' });

  // scroll pointer
  gsap
    .timeline({ repeat: -1 })
    .from('#scroll-point', { delay: 0.5, y: 20, opacity: 0, duration: 0.75, ease: 'linear' })
    .to('#scroll-point', { y: -12, opacity: 0, duration: 0.75, ease: 'power1.out' });
}

function onAwake() {
  console.log('*** onAwake ***');

  onLoadingData();
  onEventBinding();
  onGSAP();
  $('#loading-bar').fadeOut();
}

$(function () {
  onAwake();
});
